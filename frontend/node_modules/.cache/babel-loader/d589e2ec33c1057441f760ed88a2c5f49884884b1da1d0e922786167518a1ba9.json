{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROG Gamer\\\\Documents\\\\dyskord\\\\frontend\\\\src\\\\components\\\\UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ProfilePictureModal from './ProfilePictureModal';\nimport { uploadAPI } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserProfile({\n  user,\n  onLogout,\n  onUserUpdate\n}) {\n  _s();\n  const [showModal, setShowModal] = useState(false);\n  const handlePictureUpdate = async file => {\n    try {\n      await uploadAPI.uploadProfilePicture(file);\n      onUserUpdate();\n      setShowModal(false);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error uploading profile picture:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to upload profile picture');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-profile\",\n      onClick: () => setShowModal(true),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.profile_picture || 'https://via.placeholder.com/32',\n        alt: user.username,\n        className: \"profile-picture-small\",\n        onError: e => {\n          e.target.src = 'https://via.placeholder.com/32';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '14px',\n          color: '#dcddde'\n        },\n        children: user.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(ProfilePictureModal, {\n      user: user,\n      onClose: () => setShowModal(false),\n      onUpdate: handlePictureUpdate,\n      onLogout: onLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(UserProfile, \"uVlnG5KLfXemZk5i5Fl+Cg356FU=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","ProfilePictureModal","uploadAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","UserProfile","user","onLogout","onUserUpdate","_s","showModal","setShowModal","handlePictureUpdate","file","uploadProfilePicture","error","_error$response","_error$response$data","console","alert","response","data","children","className","onClick","src","profile_picture","alt","username","onError","e","target","fileName","_jsxFileName","lineNumber","columnNumber","style","fontSize","color","onClose","onUpdate","_c","$RefreshReg$"],"sources":["C:/Users/ROG Gamer/Documents/dyskord/frontend/src/components/UserProfile.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport ProfilePictureModal from './ProfilePictureModal';\r\nimport { uploadAPI } from '../api';\r\n\r\nfunction UserProfile({ user, onLogout, onUserUpdate }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handlePictureUpdate = async (file) => {\r\n    try {\r\n      await uploadAPI.uploadProfilePicture(file);\r\n      onUserUpdate();\r\n      setShowModal(false);\r\n    } catch (error) {\r\n      console.error('Error uploading profile picture:', error);\r\n      alert(error.response?.data?.error || 'Failed to upload profile picture');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"user-profile\" onClick={() => setShowModal(true)}>\r\n        <img\r\n          src={user.profile_picture || 'https://via.placeholder.com/32'}\r\n          alt={user.username}\r\n          className=\"profile-picture-small\"\r\n          onError={(e) => {\r\n            e.target.src = 'https://via.placeholder.com/32';\r\n          }}\r\n        />\r\n        <span style={{ fontSize: '14px', color: '#dcddde' }}>{user.username}</span>\r\n      </div>\r\n      {showModal && (\r\n        <ProfilePictureModal\r\n          user={user}\r\n          onClose={() => setShowModal(false)}\r\n          onUpdate={handlePictureUpdate}\r\n          onLogout={onLogout}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,mBAAmB,MAAM,uBAAuB;AACvD,SAASC,SAAS,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnC,SAASC,WAAWA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EACrD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMc,mBAAmB,GAAG,MAAOC,IAAI,IAAK;IAC1C,IAAI;MACF,MAAMb,SAAS,CAACc,oBAAoB,CAACD,IAAI,CAAC;MAC1CL,YAAY,CAAC,CAAC;MACdG,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAOI,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxDI,KAAK,CAAC,EAAAH,eAAA,GAAAD,KAAK,CAACK,QAAQ,cAAAJ,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBK,IAAI,cAAAJ,oBAAA,uBAApBA,oBAAA,CAAsBF,KAAK,KAAI,kCAAkC,CAAC;IAC1E;EACF,CAAC;EAED,oBACEb,OAAA,CAAAE,SAAA;IAAAkB,QAAA,gBACEpB,OAAA;MAAKqB,SAAS,EAAC,cAAc;MAACC,OAAO,EAAEA,CAAA,KAAMb,YAAY,CAAC,IAAI,CAAE;MAAAW,QAAA,gBAC9DpB,OAAA;QACEuB,GAAG,EAAEnB,IAAI,CAACoB,eAAe,IAAI,gCAAiC;QAC9DC,GAAG,EAAErB,IAAI,CAACsB,QAAS;QACnBL,SAAS,EAAC,uBAAuB;QACjCM,OAAO,EAAGC,CAAC,IAAK;UACdA,CAAC,CAACC,MAAM,CAACN,GAAG,GAAG,gCAAgC;QACjD;MAAE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACFjC,OAAA;QAAMkC,KAAK,EAAE;UAAEC,QAAQ,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAU,CAAE;QAAAhB,QAAA,EAAEhB,IAAI,CAACsB;MAAQ;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxE,CAAC,EACLzB,SAAS,iBACRR,OAAA,CAACH,mBAAmB;MAClBO,IAAI,EAAEA,IAAK;MACXiC,OAAO,EAAEA,CAAA,KAAM5B,YAAY,CAAC,KAAK,CAAE;MACnC6B,QAAQ,EAAE5B,mBAAoB;MAC9BL,QAAQ,EAAEA;IAAS;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CACF;EAAA,eACD,CAAC;AAEP;AAAC1B,EAAA,CArCQJ,WAAW;AAAAoC,EAAA,GAAXpC,WAAW;AAuCpB,eAAeA,WAAW;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}