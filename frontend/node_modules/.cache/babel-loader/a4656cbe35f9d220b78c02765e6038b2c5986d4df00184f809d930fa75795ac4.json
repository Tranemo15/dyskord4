{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROG Gamer\\\\Desktop\\\\dyskord\\\\frontend\\\\src\\\\components\\\\FriendsList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { usersAPI } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FriendsList({\n  friends,\n  allUsers,\n  selectedDM,\n  onDMSelect\n}) {\n  _s();\n  const [showAllUsers, setShowAllUsers] = useState(false);\n  const handleFriendRequest = async userId => {\n    try {\n      await usersAPI.sendFriendRequest(userId);\n      alert('Friend request sent!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to send friend request');\n    }\n  };\n\n  // Get users who are not friends\n  const nonFriends = allUsers.filter(user => !friends.some(friend => friend.id === user.id));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '8px 12px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Direct Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAllUsers(!showAllUsers),\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#b9bbbe',\n          cursor: 'pointer',\n          fontSize: '12px',\n          padding: '0 4px'\n        },\n        title: showAllUsers ? 'Hide Users' : 'Show All Users',\n        children: showAllUsers ? '−' : '+'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"sidebar-list\",\n      children: [friends.map(friend => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `sidebar-item ${selectedDM === friend.id ? 'active' : ''}`,\n        onClick: () => onDMSelect(friend.id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: friend.profile_picture || 'https://via.placeholder.com/20',\n          alt: friend.username,\n          style: {\n            width: '20px',\n            height: '20px',\n            borderRadius: '50%',\n            objectFit: 'cover'\n          },\n          onError: e => {\n            e.target.src = 'https://via.placeholder.com/20';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: friend.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, friend.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)), showAllUsers && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: nonFriends.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"sidebar-item\",\n          style: {\n            opacity: 0.7\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.profile_picture || 'https://via.placeholder.com/20',\n            alt: user.username,\n            style: {\n              width: '20px',\n              height: '20px',\n              borderRadius: '50%',\n              objectFit: 'cover'\n            },\n            onError: e => {\n              e.target.src = 'https://via.placeholder.com/20';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              flex: 1\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              handleFriendRequest(user.id);\n            },\n            style: {\n              background: '#7289da',\n              border: 'none',\n              color: 'white',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '12px'\n            },\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this))\n      }, void 0, false), friends.length === 0 && !showAllUsers && /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          padding: '8px 12px',\n          color: '#72767d',\n          fontSize: '14px'\n        },\n        children: \"No friends yet. Add some!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(FriendsList, \"LaB5SQA8n1Pj/pbhL86kAya1b3k=\");\n_c = FriendsList;\nexport default FriendsList;\nvar _c;\n$RefreshReg$(_c, \"FriendsList\");","map":{"version":3,"names":["React","useState","usersAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","FriendsList","friends","allUsers","selectedDM","onDMSelect","_s","showAllUsers","setShowAllUsers","handleFriendRequest","userId","sendFriendRequest","alert","error","_error$response","_error$response$data","response","data","nonFriends","filter","user","some","friend","id","children","style","display","justifyContent","alignItems","padding","fileName","_jsxFileName","lineNumber","columnNumber","onClick","background","border","color","cursor","fontSize","title","className","map","src","profile_picture","alt","username","width","height","borderRadius","objectFit","onError","e","target","opacity","flex","stopPropagation","length","_c","$RefreshReg$"],"sources":["C:/Users/ROG Gamer/Desktop/dyskord/frontend/src/components/FriendsList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { usersAPI } from '../api';\r\n\r\nfunction FriendsList({ friends, allUsers, selectedDM, onDMSelect }) {\r\n  const [showAllUsers, setShowAllUsers] = useState(false);\r\n\r\n  const handleFriendRequest = async (userId) => {\r\n    try {\r\n      await usersAPI.sendFriendRequest(userId);\r\n      alert('Friend request sent!');\r\n    } catch (error) {\r\n      alert(error.response?.data?.error || 'Failed to send friend request');\r\n    }\r\n  };\r\n\r\n  // Get users who are not friends\r\n  const nonFriends = allUsers.filter(\r\n    (user) => !friends.some((friend) => friend.id === user.id)\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '8px 12px' }}>\r\n        <h4>Direct Messages</h4>\r\n        <button\r\n          onClick={() => setShowAllUsers(!showAllUsers)}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#b9bbbe',\r\n            cursor: 'pointer',\r\n            fontSize: '12px',\r\n            padding: '0 4px'\r\n          }}\r\n          title={showAllUsers ? 'Hide Users' : 'Show All Users'}\r\n        >\r\n          {showAllUsers ? '−' : '+'}\r\n        </button>\r\n      </div>\r\n      <ul className=\"sidebar-list\">\r\n        {friends.map((friend) => (\r\n          <li\r\n            key={friend.id}\r\n            className={`sidebar-item ${selectedDM === friend.id ? 'active' : ''}`}\r\n            onClick={() => onDMSelect(friend.id)}\r\n          >\r\n            <img\r\n              src={friend.profile_picture || 'https://via.placeholder.com/20'}\r\n              alt={friend.username}\r\n              style={{\r\n                width: '20px',\r\n                height: '20px',\r\n                borderRadius: '50%',\r\n                objectFit: 'cover'\r\n              }}\r\n              onError={(e) => {\r\n                e.target.src = 'https://via.placeholder.com/20';\r\n              }}\r\n            />\r\n            <span>{friend.username}</span>\r\n          </li>\r\n        ))}\r\n        {showAllUsers && (\r\n          <>\r\n            {nonFriends.map((user) => (\r\n              <li\r\n                key={user.id}\r\n                className=\"sidebar-item\"\r\n                style={{ opacity: 0.7 }}\r\n              >\r\n                <img\r\n                  src={user.profile_picture || 'https://via.placeholder.com/20'}\r\n                  alt={user.username}\r\n                  style={{\r\n                    width: '20px',\r\n                    height: '20px',\r\n                    borderRadius: '50%',\r\n                    objectFit: 'cover'\r\n                  }}\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://via.placeholder.com/20';\r\n                  }}\r\n                />\r\n                <span style={{ flex: 1 }}>{user.username}</span>\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleFriendRequest(user.id);\r\n                  }}\r\n                  style={{\r\n                    background: '#7289da',\r\n                    border: 'none',\r\n                    color: 'white',\r\n                    padding: '4px 8px',\r\n                    borderRadius: '4px',\r\n                    cursor: 'pointer',\r\n                    fontSize: '12px'\r\n                  }}\r\n                >\r\n                  Add\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </>\r\n        )}\r\n        {friends.length === 0 && !showAllUsers && (\r\n          <li style={{ padding: '8px 12px', color: '#72767d', fontSize: '14px' }}>\r\n            No friends yet. Add some!\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FriendsList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}